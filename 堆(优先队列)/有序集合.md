# [855. 考场就座](https://leetcode.cn/problems/exam-room/)
分类讨论：
- 插在最前面
- 插在中间的位置
- 能否插在最后
检查当前的间隔是否为最大间隔，同时用有序集合来维护位置的顺序
```python
class ExamRoom:

    def __init__(self, n: int):
        self.n = n
        self.pos = SortedList()

    def seat(self) -> int:
        if not self.pos:
            self.pos.add(0)
            return 0

        max_dist = self.pos[0]
        cur_pos = 0    
        # 检查中间的情况
        for x,y in pairwise(self.pos):
            dist = (y - x) // 2
            if dist > max_dist:
                max_dist = dist
                cur_pos = x + dist
        
        # 检查最右边
        if self.pos[-1] != self.n - 1:
            dist = self.n - 1 - self.pos[-1]
            if dist > max_dist:
                max_dist = dist
                cur_pos = self.n - 1
        self.pos.add(cur_pos)
        return cur_pos

    def leave(self, p: int) -> None:
        self.pos.remove(p)
```
